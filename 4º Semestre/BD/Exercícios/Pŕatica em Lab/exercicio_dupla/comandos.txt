1)
create type t_endereco as object (
	rua varchar2(40)
	cidade varchar2(30),
	uf char(2),cep number(8)
);

2)
create type t_funcionario as object (
	matricula number(5),
	nome varchar2(30),
	data_admissao date,
	endereco t_endereco
);

3)
declare
	v_funcionario t_funcionario;
begin
	select value(f) into v_funcionario
	  from funcionarios f
	  where matricula = 1574;
	dbms_output.put_line (v_funcionario.nome);
end;

4)
create type t_departamento as object (
	num_depto number,
	nome varchar2(30),
	endereco t_endereco
);

create table departamentos of t_departamento;

create table funcionarios (
	matricula number,
	nome varchar2(30),
	depto ref t_departamento
);

5)
create table funcionarios (
	matricula number,
	nome varchar2(30),
	depto ref t_departamento scope is departamentos
);

6)
create type t_pessoa as object (
	nome varchar2(30),
	endereco t_endereco,
	data_nasc date,
	amigo REF t_pessoa
);

7)
insert into departamentos
values (1,
	‘ITP’,
	t_endereco (‘Rua José Seabra, 255’,‘Aracaju’, ‘SE’, 49000000)
);

insert into funcionarios
values (4036,
	‘Beatriz’,
	(select ref(d)
	   from departamentos d
	   where d.nome=’ITP’
	)
);

8)
declare
	v_depto departamento;
	v_nome_depto varchar2(30);
begin
	select deref(depto) into v_depto
	  from funcionarios
	  where nome=’Beatriz’;

	select v_depto.nome into v_nome_depto
	  from dual;
end;

9)
create or replace trigger departamento_d
	after delete on departamentos
	for each row

declare
	d_ref REF t_departamento;
begin
	select REF(d) into d_ref
	  from departamentos d
	  where d.num_depto=:old.num_depto;

	update funcionarios f set f.depto = null
	  where f.depto = d_ref;
end;

10)
create type t_livro as object (
	numero number(4),
	titulo varchar2(40)
);

create type lista_livros as table of t_livro;

-- A defi nição a seguir cria a tabela que irá
-- armazenar todas as informações do material
-- necessário à disciplina:

create table material_disciplina (
	departamento char(4),
	curso number(3),
	livros_requeridos lista_livros
)
nested table livros_requeridos store
as livros_requeridos_tab;

11)
insert into material_disciplina
values (‘ccft’,
	10,
	lista_livros (
		t_livro (1, ‘Oracle 9i’),
		t_livro (2, ‘Oracle 8i’)
	)
);

12)
select l.titulo
  from material_disciplina m,
  table(m.lista_livros) l
  where m.departamento=’ccft’ and m.curso=10;

13)
create type t_funcionario as object (
	nome varchar2(30),
	data_nasc date,
	member function idade return integer,
	member procedure altera_nome(p_nome IN varchar2),
	map member function retornar_nome return varchar2,
	order member function comparar_func (p_func in t_funcionario ) return number
);

14)
create type body t_funcionario is
	member function idade return integer is I integer;
	begin
		select trunc(months_between (sysdate,self.data_nasc) / 12) into I
		from dual;
	end;
	member procedure altera_nome (p_nome IN varchar2) is
	begin
		nome := p_nome;
	end;
end;

15)
create type t_pessoa as object (
	codigo number,
	nome varchar2(30),
	endereço varchar2(100)
) not final;

16)
create type t as object (
	...,
	member procedure imprimir(),
	fi nal member function alterar(x number)
	...
) not fi nal;

17)
create table pessoas of t_pessoa;

create table estudantes of t_estudante
	under t_pessoa;

create table empregados of t_empregado
	under t_pessoa;
















